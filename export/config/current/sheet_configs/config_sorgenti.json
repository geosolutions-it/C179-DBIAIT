{
   "sheet":"Sorgenti",
   "skip":false,
   "sources":[
      {
         "fields":[
            {"name":"acq_captazione.codice_ato", "alias":"codice_ato"},
            {"name":"acq_captazione.denom", "alias":"denom"},
            {"name":"acq_captazione.quota", "alias":"quota", "function": "FROM_FLOAT_TO_INT"},
            {"name":"acq_capt_conces.estremi_conces", "alias":"estremi_conces"},
            {"name":"acq_capt_conces.port_potab", "alias":"port_potab"},
            {"name":"acq_captazione.anno_costr", "alias":"anno_costr"},
            {"name":"acq_captazione.anno_ristr", "alias":"anno_ristr"},
            {"name":"acq_captazione.d_stato_cons", "alias":"d_stato_cons"},
            {"name":"acq_auth_capt.d_utilizzo", "alias":"d_utilizzo"},
            {"name":"acq_auth_capt.utilizzo_annuo", "alias":"utilizzo_annuo"},
            {"name":"acq_auth_capt.sn_cunic_presa", "alias":"sn_cunic_presa", "function": "TO_BIT"},
            {"name":"acq_auth_capt.sn_vasca_capt", "alias":"sn_vasca_capt", "function": "TO_BIT"},
            {"name":"acq_auth_capt.sn_vasca_mis", "alias":"sn_vasca_mis", "function": "TO_BIT"},
            {"name":"acq_auth_capt.sn_vasca_car", "alias":"sn_vasca_car", "function": "TO_BIT"},
            {"name":"acq_captazione.volume_medio_prel", "alias":"volume_medio_prel"},
            {"name":"acq_capt_conces.port_uti_max", "alias":"port_uti_max"},
            {"name":"acq_capt_conces.port_uti_min", "alias":"port_uti_min"},
            {"name":"acq_auth_capt.d_telecont", "alias":"d_telecont"},
            {"name":"acq_auth_capt.sn_strum_mis_port", "alias":"sn_strum_mis_port", "function": "TO_BIT"},
            {"name":"acq_auth_capt.d_tipo_cloraz", "alias":"d_tipo_cloraz"},
            {"name":"acq_auth_capt.anno_instal_clor", "alias":"anno_instal_clor"},
            {"name":"acq_auth_capt.anno_ristr_clor", "alias":"anno_ristr_clor"},
            {"name":"acq_auth_capt.sn_epis_inq", "alias":"sn_epis_inq", "function": "TO_BIT"},
            {"name":"acq_captazione.d_stato", "alias":"d_stato"},
            {"name":"acq_captazione.a_anno_costr", "alias":"a_anno_costr"},
            {"name":"acq_captazione.a_anno_ristr", "alias":"a_anno_ristr"},
            {"name":"acq_captazione.a_volume", "alias":"a_volume"},
            {"name":"acq_capt_conces.a_port_es", "alias":"a_port_es"},
            {"name":"acq_capt_conces.a_port_uti_max", "alias":"a_port_uti_max"},
            {"name":"acq_capt_conces.a_port_uti_min", "alias":"a_port_uti_min"},
            {"name":"acq_captazione.data_agg", "alias":"data_agg"},
            {"name":"acq_captazione.cod_comune", "alias":"cod_comune"},
            {"name":"acq_captazione.geom", "alias": "transformed_x_geom", "function": "GB_X"},
            {"name":"acq_captazione.geom", "alias": "transformed_y_geom", "function": "GB_Y"},
            {"name":"sorgenti_inpotab.ids_codice", "alias": "cod_opera_inpotab_not_exist", "function": "IS_NULL"},
            { "name": "localita.denominazi", "alias": "denominazi" },
            {"name": "acq_capt_conces.sn_uso_plurimo","alias": "sn_uso_plurimo", "function": "TO_BIT"},
            { "name": "schema_acq.codice_schema_acq", "alias": "codice_schema_acq"},
            { "name": "schema_acq.denominazione_schema_acq", "alias": "denominazione_schema_acq"},
            { "name": "support_codice_capt_accorp.codice_accorp_capt", "alias": "codice_accorp_capt"},
            {"name": "support_codice_capt_accorp.denom","alias": "denom"}
         ],
         "table":{
            "name":"acq_captazione"
         },
         "join":[
            {
               "type":"left",
               "table":{
                  "name":"acq_capt_conces"
               },
               "on":[
                  "acq_capt_conces.id_captazione",
                  "acq_captazione.idgis"
               ],
               "cond":"="
            },
            {
               "type":"left",
               "table":{
                  "name":"acq_auth_capt"
               },
               "on":[
                  "acq_auth_capt.id_captazione",
                  "acq_captazione.idgis"
               ],
               "cond":"="
            },
            {
               "type":"left",
               "table":{
                  "name":"sorgenti_inpotab"
               },
               "on":[
                  "sorgenti_inpotab.ids_codice",
                  "acq_captazione.codice_ato"
               ],
               "cond":"="
            },
            {
                 "type": "left",
                 "table": {
                     "name": "localita"
                 },
                 "on": [
                     "localita.geom",
                     "acq_captazione.geom"
                 ],
                 "cond": "ST_INTERSECTS"
            },
            {
                 "type": "left",
                 "table": {
                     "name": "support_codice_capt_accorp"
                 },
                 "on": [
                   "acq_captazione.idgis",
                   "support_codice_capt_accorp.idgis"
                 ],
                 "cond": "="
            },{
                    "type": "left",
                    "table": {
                        "name": "schema_acq"
                    },
                    "on": [
                        "acq_captazione.idgis",
                        "schema_acq.idgis"
                    ],
                    "cond": "="
                }
         ],
         "filter": "WHERE acq_captazione.d_gestore = 'PUBLIACQUA' AND acq_captazione.d_ambito IN ('AT3', NULL) AND acq_captazione.d_stato NOT IN ('IPR', 'IAC') AND acq_captazione.sub_funzione = 4"
      },
      {
         "fields":[
            {"name":"a_acq_captazione.codice_ato", "alias":"codice_ato"},
            {"name":"a_acq_captazione.denom", "alias":"denom"},
            {"name":"a_acq_captazione.quota", "alias":"quota", "function": "FROM_FLOAT_TO_INT"},
            {"name":"a_acq_capt_conces.estremi_conces", "alias":"estremi_conces"},
            {"name":"a_acq_capt_conces.port_potab", "alias":"port_potab"},
            {"name":"a_acq_captazione.anno_costr", "alias":"anno_costr"},
            {"name":"a_acq_captazione.anno_ristr", "alias":"anno_ristr"},
            {"name":"a_acq_captazione.d_stato_cons", "alias":"d_stato_cons"},
            {"name":"acq_auth_capt.d_utilizzo", "alias":"d_utilizzo"},
            {"name":"acq_auth_capt.utilizzo_annuo", "alias":"utilizzo_annuo"},
            {"name":"acq_auth_capt.sn_cunic_presa", "alias":"sn_cunic_presa", "function": "TO_BIT"},
            {"name":"acq_auth_capt.sn_vasca_capt", "alias":"sn_vasca_capt", "function": "TO_BIT"},
            {"name":"acq_auth_capt.sn_vasca_mis", "alias":"sn_vasca_mis", "function": "TO_BIT"},
            {"name":"acq_auth_capt.sn_vasca_car", "alias":"sn_vasca_car", "function": "TO_BIT"},
            {"name":"a_acq_captazione.volume_medio_prel", "alias":"volume_medio_prel"},
            {"name":"a_acq_capt_conces.port_uti_max", "alias":"port_uti_max"},
            {"name":"a_acq_capt_conces.port_uti_min", "alias":"port_uti_min"},
            {"name":"acq_auth_capt.d_telecont", "alias":"d_telecont"},
            {"name":"acq_auth_capt.sn_strum_mis_port", "alias":"sn_strum_mis_port", "function": "TO_BIT"},
            {"name":"acq_auth_capt.d_tipo_cloraz", "alias":"d_tipo_cloraz"},
            {"name":"acq_auth_capt.anno_instal_clor", "alias":"anno_instal_clor"},
            {"name":"acq_auth_capt.anno_ristr_clor", "alias":"anno_ristr_clor"},
            {"name":"acq_auth_capt.sn_epis_inq", "alias":"sn_epis_inq", "function": "TO_BIT"},
            {"name":"a_acq_captazione.d_stato", "alias":"d_stato"},
            {"name":"a_acq_captazione.a_anno_costr", "alias":"a_anno_costr"},
            {"name":"a_acq_captazione.a_anno_ristr", "alias":"a_anno_ristr"},
            {"name":"a_acq_captazione.a_volume", "alias":"a_volume"},
            {"name":"a_acq_capt_conces.a_port_es", "alias":"a_port_es"},
            {"name":"a_acq_capt_conces.a_port_uti_max", "alias":"a_port_uti_max"},
            {"name":"a_acq_capt_conces.a_port_uti_min", "alias":"a_port_uti_min"},
            {"name":"a_acq_captazione.data_agg", "alias":"data_agg"},
            {"name":"a_acq_captazione.cod_comune", "alias":"cod_comune"},
            {"name":"a_acq_captazione.geom", "alias": "transformed_x_geom", "function": "GB_X"},
            {"name":"a_acq_captazione.geom", "alias": "transformed_y_geom", "function": "GB_Y"},
            {"name":"sorgenti_inpotab.ids_codice", "alias": "cod_opera_inpotab_not_exist", "function": "IS_NULL"},
            { "name": "localita.denominazi", "alias": "denominazi" },
            {"name": "a_acq_captazione.sn_uso_plurimo","alias": "sn_uso_plurimo", "function": "TO_BIT"},
            { "name": "schema_acq.codice_schema_acq", "alias": "codice_schema_acq"},
            { "name": "schema_acq.denominazione_schema_acq", "alias": "denominazione_schema_acq"},
            { "name": "support_codice_capt_accorp.codice_accorp_capt", "alias": "codice_accorp_capt"},
            {"name": "support_codice_capt_accorp.denom","alias": "denom"}
         ],
         "table":{
            "name":"a_acq_captazione"
         },
         "join":[
            {
               "type":"left",
               "table":{
                  "name":"a_acq_capt_conces"
               },
               "on":[
                  "a_acq_capt_conces.id_captazione",
                  "a_acq_captazione.idgis"
               ],
               "cond":"="
            },
            {
               "type":"left",
               "table":{
                  "name":"acq_auth_capt"
               },
               "on":[
                  "acq_auth_capt.id_captazione",
                  "a_acq_captazione.idgis"
               ],
               "cond":"="
            },
            {
               "type":"left",
               "table":{
                  "name":"sorgenti_inpotab"
               },
               "on":[
                  "sorgenti_inpotab.ids_codice",
                  "a_acq_captazione.codice_ato"
               ],
               "cond":"="
            },
            {
                 "type": "left",
                 "table": {
                     "name": "localita"
                 },
                 "on": [
                     "localita.geom",
                     "a_acq_captazione.geom"
                 ],
                 "cond": "ST_INTERSECTS"
            },
            {
                 "type": "left",
                 "table": {
                     "name": "support_codice_capt_accorp"
                 },
                 "on": [
                   "a_acq_captazione.idgis",
                   "support_codice_capt_accorp.idgis"
                 ],
                 "cond": "="
            },
                {
                    "type": "left",
                    "table": {
                        "name": "schema_acq"
                    },
                    "on": [
                        "a_acq_captazione.idgis",
                        "schema_acq.idgis"
                    ],
                    "cond": "="
                }
         ],
         "filter": "WHERE a_acq_captazione.d_gestore = 'PUBLIACQUA' AND a_acq_captazione.d_ambito IN ('AT3', NULL) AND a_acq_captazione.d_stato NOT IN ('IPR', 'IAC') AND a_acq_captazione.sub_funzione = 4"
      }
   ],
   "columns":[
      {"id":"112200", "transformation":{"func":"DIRECT", "params":{"field":"sn_uso_plurimo"}}},

      {"id": "112000","transformation": { "func": "DIRECT", "params": { "field": "codice_schema_acq"}}},
      {"id": "112100","transformation": { "func": "DIRECT", "params": { "field": "denominazione_schema_acq"}}},

        {"id": "111800","transformation": { "func": "DIRECT", "params": { "field": "codice_accorp_capt"}}},
        {"id": "111900","transformation": { "func": "DIRECT", "params": { "field": "denom"}}},


      {"id":"26200", "transformation":{"func":"EXPR", "params":{"field":"volume_medio_prel", "expr": "_value_*1000/365/3600/24"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "26200",
                  "cond": [{
                      "and": [
                        {"lookup": "{24600}","operator": "<=", "value": "{26200}"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field is not lower than ID 24600"
          }
      ]},

      {"id":"23700", "transformation":{"func":"DIRECT", "params":{"field":"codice_ato"}}},

      {"id":"26100", "transformation":{"func":"DIRECT", "params":{"field":"ids_codice_potab"}}},
      {"id":"23800", "transformation":{"func":"DIRECT", "params":{"field":"denom"}}},
      {"id":"24200", "transformation":{"func":"DIRECT", "params":{"field":"quota"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "24200",
                  "cond": [{
                      "and": [
                        {"operator": "!=", "value": 0}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: value is not 0"
          }
      ]},
      {"id":"24300", "transformation":{"func":"DIRECT", "params":{"field":"denominazi"}}},
      {"id":"24500", "transformation":{"func":"DIRECT", "params":{"field":"estremi_conces"}}},
      {"id":"24600", "transformation":{"func":"DIRECT", "params":{"field":"port_potab"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "24600",
                  "cond": [{
                      "and": [
                        {"lookup": "{26200}","operator": "<=", "value": "{24600}"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field is lower than ID 26200"
          }
      ]},
      {"id":"25100", "transformation":{"func":"DIRECT", "params":{"field":"anno_costr"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "25100",
                  "cond": [{
                      "or": [
                        {"operator": "<=", "value": "{REF_YEAR}"},
                        {"operator": "=", "value": 9999}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is not valid for year {REF_YEAR}"
          }
      ]},
      {"id":"25200", "transformation":{"func":"DIRECT", "params":{"field":"anno_ristr"}},"validations": [{
              "func": "IF",
              "params": {
                  "field": "25200",
                  "cond": [{
                      "or": [
                        {"operator": "<=", "value": "{REF_YEAR}"},
                        {"operator": "=", "value": 9800}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is not valid for year {REF_YEAR}"
          }
      ]},
      {"id":"25500", "transformation":{"func":"DIRECT", "params":{"field":"utilizzo_annuo"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "25500",
                  "cond": [{
                      "and": [
                        {"lookup": "{26000}","operator": "=", "value": 0},
                        {"operator": "=", "value": 0}
                      ]
                  },{
                      "and": [
                        {"lookup": "{26000}","operator": ">", "value": 0},
                        {"operator": "<", "value": 100}
                      ]
                  },{
                      "and": [
                        {"lookup": "{25400}","operator": "=", "value": "Continuo"},
                        {"operator": "=", "value": 100}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value not permitted"
          }
      ]},
      {"id":"25600", "transformation":{"func":"DIRECT", "params":{"field":"sn_cunic_presa"}}},
      {"id":"25700", "transformation":{"func":"DIRECT", "params":{"field":"sn_vasca_capt"}}},
      {"id":"25800", "transformation":{"func":"DIRECT", "params":{"field":"sn_vasca_mis"}}},
      {"id":"25900", "transformation":{"func":"DIRECT", "params":{"field":"sn_vasca_car"}}},
      {"id":"26000", "transformation":{"func":"DIRECT", "params":{"field":"volume_medio_prel"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "26000",
                  "cond": [{
                      "and": [
                        {"lookup": "{27400}","operator": "=", "value": 1},
                        {"operator": ">", "value": 0}
                      ]
                  },{
                      "and": [
                        {"lookup": "{24600}","operator": "=", "value": 0},
                        {"operator": "<=", "value": 0}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field is lower than 0"
          }
      ]},
      {"id":"26300", "transformation":{"func":"DIRECT", "params":{"field":"port_uti_max"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "26300",
                  "cond": [{
                      "and": [
                        {"lookup": "{26200}","operator": "=", "value": 0},
                        {"operator": "=", "value": 0}
                      ]
                  },{
                      "and": [
                        {"lookup": "{26200}","operator": ">", "value": 0},
                        {"lookup": "{26200}","operator": "<", "value": "{26300}"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}"
          }
      ]},
      {"id":"26400", "transformation":{"func":"DIRECT", "params":{"field":"port_uti_min"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "26400",
                  "cond": [{
                      "and": [
                        {"lookup": "{26200}","operator": "=", "value": 0},
                        {"operator": "=", "value": 0}
                      ]
                  },{
                      "and": [
                        {"lookup": "{26200}","operator": ">", "value": 0},
                        {"lookup": "{26200}","operator": ">", "value": "{26300}"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field does not match the specifications"
          }
      ]},
      {"id":"26600", "transformation":{"func":"DIRECT", "params":{"field":"sn_strum_mis_port"}}},
      {"id":"27100", "transformation":{"func":"DIRECT", "params":{"field":"anno_instal_clor"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "27100",
                  "cond": [{
                      "and": [
                        {"lookup": "{27000}","operator": "=", "value": 1},
                        {"operator": "=", "value": 9800}
                      ]
                  },{
                      "and": [
                        {"operator": "<=", "value": "{REF_YEAR}"},
                        {"operator": "!=", "value": 9999}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field value not permitted for that {REF_YEAR}"
          }
      ]},
      {"id":"27200", "transformation":{"func":"DIRECT", "params":{"field":"anno_ristr_clor"}}},
      {"id":"27300", "transformation":{"func":"DIRECT", "params":{"field":"sn_epis_inq"}}},
      {"id":"28200", "transformation":{"func":"DIRECT", "params":{"field":"data_agg"}}},

      {"id":"23900", "transformation": { "func": "ROUND", "params": {"field": "transformed_y_geom", "ndigits":  3}}},
      {"id":"24000", "transformation": { "func": "ROUND", "params": {"field": "transformed_x_geom", "ndigits":  3}}},

      {"id":"25300", "transformation":{"func":"DOMAIN", "params":{"field":"d_stato_cons", "domain_name": "D_STATO_CONS"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "25300",
                  "cond": [{
                      "and": [
                        {"lookup": "{25200}","operator": ">=", "value": 2014},
                        {"operator": ">=", "value": 3}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is lower than 3"
          }
      ]},
      {"id":"25400", "transformation":{"func":"DOMAIN", "params":{"field":"d_utilizzo", "domain_name": "D_UTILIZZO_OPERA"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "25400",
                  "cond": [{
                      "and": [
                        {"lookup": "{25500}","operator": "=", "value": 100},
                        {"operator": "=", "value": "Continuo"}
                      ]
                  },{
                      "and": [
                        {"lookup": "{26000}","operator": "=", "value": 0},
                        {"lookup": "{27400}","operator": "=", "value": 1},
                        {"operator": "=", "value": "Occasionale"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is lower than 3"
          }
      ]},
      {"id":"26500", "transformation":{"func":"DOMAIN", "params":{"field":"d_telecont", "domain_name": "D_TELECONT"}}},
      {"id":"27000", "transformation":{"func":"DOMAIN", "params":{"field":"d_tipo_cloraz", "domain_name": "D_T_CLORAZ"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "27000",
                  "cond": [{
                      "and": [
                        {"lookup": "{27100}","operator": "!=", "value": 9800},
                        {"operator": "!=", "value": 1}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field is 1"
          }
      ]},
      {"id":"27400", "transformation":{"func":"DOMAIN", "params":{"field":"d_stato", "domain_name": "D_STATO"}}},
      {"id":"27500", "transformation":{"func":"DOMAIN", "params":{"field":"a_anno_costr", "domain_name": "D_AFFIDABILITA"}},"validations": [{
              "func": "IF",
              "params": {
                  "field": "27500",
                  "cond": [{
                      "and": [
                        {"lookup": "{25100}","operator": "=", "value": 9999},
                        {"operator": "=", "value": "x"}
                      ]
                  },{
                      "and": [
                        {"lookup": "{25100}","operator": ">=", "value": 2002},
                        {"lookup": "{25100}","operator": "!=", "value": 9999},
                        {"operator": "=", "value": "A"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field is not A or X"
          }
      ]},
      {"id":"27600", "transformation":{"func":"DOMAIN", "params":{"field":"a_anno_ristr", "domain_name": "D_AFFIDABILITA"}},"validations": [{
              "func": "IF",
              "params": {
                  "field": "27600",
                  "cond": [{
                      "and": [
                        {"lookup": "{25200}","operator": ">=", "value": 2002},
                        {"operator": "=", "value": "A"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field is not A"
          }
      ]},
      {"id":"27700", "transformation":{"func":"DOMAIN", "params":{"field":"a_volume", "domain_name": "D_AFFIDABILITA"}},"validations": [{
              "func": "IF",
              "params": {
                  "field": "27700",
                  "cond": [{
                      "and": [
                        {"lookup": "{26000}","operator": "=", "value": 0},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup": "{26100}","operator": ">", "value": 0},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup": "{26100}","operator": ">", "value": 0},
                        {"lookup": "{26600}","operator": "=", "value": 0},
                        {"operator": "=", "value": "C"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field is not A or C"
          }
      ]},
      {"id":"27900", "transformation":{"func":"DOMAIN", "params":{"field":"a_port_es", "domain_name": "D_AFFIDABILITA"}},"validations": [{
              "func": "IF",
              "params": {
                  "field": "27900",
                  "cond": [{
                      "and": [
                        {"operator": "=", "value": "{27900}"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field is not A or C"
          }
      ]},
      {"id":"28000", "transformation":{"func":"DOMAIN", "params":{"field":"a_port_uti_max", "domain_name": "D_AFFIDABILITA"}},"validations": [{
              "func": "IF",
              "params": {
                  "field": "28000",
                  "cond": [{
                      "and": [
                        {"lookup": "{26300}","operator": "=", "value": 0},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup": "{26300}","operator": ">", "value": 0},
                        {"lookup": "{26600}","operator": "=", "value": 1},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup": "{26300}","operator": ">", "value": 0},
                        {"lookup": "{26600}","operator": "=", "value": 0},
                        {"operator": "=", "value": "C"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field is not A or C"
          }
      ]},
      {"id":"28100", "transformation":{"func":"DOMAIN", "params":{"field":"a_port_uti_min", "domain_name": "D_AFFIDABILITA"}},"validations": [{
              "func": "IF",
              "params": {
                  "field": "28100",
                  "cond": [{
                      "and": [
                        {"lookup": "{26400}","operator": "=", "value": 0},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup": "{26400}","operator": ">", "value": 0},
                        {"lookup": "{26600}","operator": "=", "value": 1},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup": "{26400}","operator": ">", "value": 0},
                        {"lookup": "{26600}","operator": "=", "value": 0},
                        {"operator": "=", "value": "C"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field is not A or C"
          }
      ]},

      {"id":"24100", "transformation":{"func":"CONST", "params":{"value":"3003"}}},
      {"id":"26700", "transformation":{"func":"CONST", "params":{"value":"0"}}},
      {"id":"26800", "transformation":{"func":"CONST", "params":{"value":"1"}}},
      {"id":"26900", "transformation":{"func":"CONST", "params":{"value":"0"}}},

      {"id":"24400", "transformation":{"func":"LSTRIP", "params":{"field":"cod_comune", "char": "0"}}},
      {"id":"24400", "transformation": {"func":"DECODE_COM", "params": { "field": "cod_comune" }}},

      {"id":"27800", "transformation":{"func":"DOMAIN", "params":{"field":"a_volume", "domain_name": "D_AFFIDABILITA"}}},

      {"id":"26100", "transformation":{
         "func": "IF",
         "params": {
             "field": "cod_opera_inpotab_not_exist",
             "cond": {
                     "operator": "=",
                     "value": 1,
                     "result": "{ volume_medio_prel }",
                     "else": 0
                 }
             }
         }
      }

   ]
}