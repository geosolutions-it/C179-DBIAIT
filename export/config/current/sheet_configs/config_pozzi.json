{
   "sheet":"Pozzi",
   "skip":false,
   "sources":[
      {
         "fields":[
            {"name":"acq_captazione.codice_ato", "alias":"codice_ato"},
            {"name":"acq_captazione.denom", "alias":"denom"},
            {"name":"acq_captazione.quota", "alias":"quota", "function": "FROM_FLOAT_TO_INT"},
            {"name":"acq_capt_conces.estremi_conces", "alias":"estremi_conces"},
            {"name":"acq_capt_conces.port_potab", "alias":"port_potab"},
            {"name":"acq_capt_conces.port_industr", "alias":"port_industr"},
            {"name":"acq_capt_conces.port_irrig", "alias":"port_irrig"},
            {"name":"acq_capt_conces.port_idroel", "alias":"port_idroel"},
            {"name":"acq_auth_capt.port_altro", "alias":"port_altro"},
            {"name":"acq_captazione.anno_costr", "alias":"anno_costr"},
            {"name":"acq_captazione.anno_ristr", "alias":"anno_ristr"},
            {"name":"acq_captazione.d_stato_cons", "alias":"d_stato_cons"},
            {"name":"acq_auth_capt.d_utilizzo", "alias":"d_utilizzo"},
            {"name":"acq_auth_capt.utilizzo_annuo", "alias":"utilizzo_annuo"},
            {"name":"acq_captazione.prof_pozzo", "alias":"prof_pozzo"},
            {"name":"acq_capt_conces.diam_perf", "alias":"diam_perf"},
            {"name":"acq_captazione.volume_medio_prel", "alias":"volume_medio_prel"},
            {"name":"acq_capt_conces.port_uti_max", "alias":"port_uti_max"},
            {"name":"acq_capt_conces.port_uti_min", "alias":"port_uti_min"},
            {"name":"acq_auth_capt.d_telecont", "alias":"d_telecont"},
            {"name":"acq_auth_capt.sn_strum_mis_port", "alias":"sn_strum_mis_port", "function": "TO_BIT"},
            {"name":"acq_auth_capt.d_tipo_cloraz", "alias":"d_tipo_cloraz"},
            {"name":"acq_auth_capt.anno_instal_clor", "alias":"anno_instal_clor"},
            {"name":"acq_auth_capt.anno_ristr_clor", "alias":"anno_ristr_clor"},
            {"name":"acq_auth_capt.sn_epis_inq", "alias":"sn_epis_inq", "function": "TO_BIT"},
            {"name":"acq_captazione.d_stato", "alias":"d_stato"},
            {"name":"acq_captazione.a_anno_costr", "alias":"a_anno_costr"},
            {"name":"acq_captazione.a_anno_ristr", "alias":"a_anno_ristr"},
            {"name":"acq_captazione.a_volume", "alias":"a_volume"},
            {"name":"acq_capt_conces.a_port_es", "alias":"a_port_es"},
            {"name":"acq_capt_conces.a_port_uti_max", "alias":"a_port_uti_max"},
            {"name":"acq_capt_conces.a_port_uti_min", "alias":"a_port_uti_min"},
            {"name":"acq_captazione.data_agg", "alias":"data_agg"},
            {"name":"acq_captazione.cod_comune", "alias":"cod_comune"},
            {"name":"acq_captazione.geom", "alias": "transformed_x_geom", "function": "GB_X"},
            {"name":"acq_captazione.geom", "alias": "transformed_y_geom", "function": "GB_Y"},
            {"name":"pozzi_inpotab.ids_codice", "alias": "cod_opera_inpotab_not_exist", "function": "IS_NULL"},
            {"name":"stats_pompe.sum_potenza", "alias": "sum_potenza"},
            {"name":"stats_pompe.avg_idx_potenza", "alias": "avg_idx_potenza"},
            { "name": "localita.denominazi", "alias": "denominazi" },
            { "name": "acq_auth_capt.consumo_ee", "alias": "consumo_ee"},
            {"name": "acq_auth_capt.sn_tut_ass","alias": "sn_tut_ass"},
            {"name": "acq_auth_capt.sn_rispetto","alias": "sn_rispetto"},
            {"name": "acq_auth_capt.sn_protezione","alias": "sn_protezione"},
            {"name": "support_codice_capt_accorp.codice_accorp","alias": "codice_accorp"},
            {"name": "support_codice_capt_accorp.denominazione","alias": "accorp_denominazione"}
         ],
         "table":{
            "name":"acq_captazione"
         },
         "join":[
            {
               "type": "left",
               "table":{
                  "name":"acq_capt_conces"
               },
               "on":[
                  "acq_capt_conces.id_captazione",
                  "acq_captazione.idgis"
               ],
               "cond":"="
            },
            {
               "type":"left",
               "table":{
                  "name":"acq_auth_capt"
               },
               "on":[
                  "acq_auth_capt.id_captazione",
                  "acq_captazione.idgis"
               ],
               "cond":"="
            },
             {
               "type":"left",
               "table":{
                  "name":"pozzi_inpotab"
               },
               "on":[
                  "pozzi_inpotab.ids_codice",
                  "acq_captazione.codice_ato"
               ],
               "cond":"="
            },
            {
               "type":"left",
               "table":{
                  "name":"stats_pompe"
               },
               "on":[
                  "stats_pompe.codice_ato",
                  "acq_captazione.codice_ato"
               ],
               "cond":"="
            },
            {
                 "type": "left",
                 "table": {
                     "name": "localita"
                 },
                 "on": [
                     "localita.geom",
                     "acq_captazione.geom"
                 ],
                 "cond": "ST_INTERSECTS"
            },
            {
                 "type": "left",
                 "table": {
                     "name": "support_codice_capt_accorp"
                 },
                 "on": [
                     "support_codice_capt_accorp.idgis",
                     "acq_captazione.idgis"
                 ],
                 "cond": "="
            }
         ],
         "filter": "WHERE acq_captazione.d_gestore = 'PUBLIACQUA' AND acq_captazione.d_ambito IN ('AT3', NULL) AND acq_captazione.sub_funzione = 3"
      },
      {
         "fields":[
            {"name":"a_acq_captazione.codice_ato", "alias":"codice_ato"},
            {"name":"a_acq_captazione.denom", "alias":"denom"},
            {"name":"a_acq_captazione.quota", "alias":"quota", "function": "FROM_FLOAT_TO_INT"},
            {"name":"acq_capt_conces.estremi_conces", "alias":"estremi_conces"},
            {"name":"acq_capt_conces.port_potab", "alias":"port_potab"},
            {"name":"acq_capt_conces.port_industr", "alias":"port_industr"},
            {"name":"acq_capt_conces.port_irrig", "alias":"port_irrig"},
            {"name":"acq_capt_conces.port_idroel", "alias":"port_idroel"},
            {"name":"acq_auth_capt.port_altro", "alias":"port_altro"},
            {"name":"a_acq_captazione.anno_costr", "alias":"anno_costr"},
            {"name":"a_acq_captazione.anno_ristr", "alias":"anno_ristr"},
            {"name":"a_acq_captazione.d_stato_cons", "alias":"d_stato_cons"},
            {"name":"acq_auth_capt.d_utilizzo", "alias":"d_utilizzo"},
            {"name":"acq_auth_capt.utilizzo_annuo", "alias":"utilizzo_annuo"},
            {"name":"a_acq_captazione.prof_pozzo", "alias":"prof_pozzo"},
            {"name":"acq_capt_conces.diam_perf", "alias":"diam_perf"},
            {"name":"a_acq_captazione.volume_medio_prel", "alias":"volume_medio_prel"},
            {"name":"acq_capt_conces.port_uti_max", "alias":"port_uti_max"},
            {"name":"acq_capt_conces.port_uti_min", "alias":"port_uti_min"},
            {"name":"acq_auth_capt.d_telecont", "alias":"d_telecont"},
            {"name":"acq_auth_capt.sn_strum_mis_port", "alias":"sn_strum_mis_port", "function": "TO_BIT"},
            {"name":"acq_auth_capt.d_tipo_cloraz", "alias":"d_tipo_cloraz"},
            {"name":"acq_auth_capt.anno_instal_clor", "alias":"anno_instal_clor"},
            {"name":"acq_auth_capt.anno_ristr_clor", "alias":"anno_ristr_clor"},
            {"name":"acq_auth_capt.sn_epis_inq", "alias":"sn_epis_inq", "function": "TO_BIT"},
            {"name":"a_acq_captazione.d_stato", "alias":"d_stato"},
            {"name":"a_acq_captazione.a_anno_costr", "alias":"a_anno_costr"},
            {"name":"a_acq_captazione.a_anno_ristr", "alias":"a_anno_ristr"},
            {"name":"a_acq_captazione.a_volume", "alias":"a_volume"},
            {"name":"acq_capt_conces.a_port_es", "alias":"a_port_es"},
            {"name":"acq_capt_conces.a_port_uti_max", "alias":"a_port_uti_max"},
            {"name":"acq_capt_conces.a_port_uti_min", "alias":"a_port_uti_min"},
            {"name":"a_acq_captazione.data_agg", "alias":"data_agg"},
            {"name":"a_acq_captazione.cod_comune", "alias":"cod_comune"},
            {"name":"a_acq_captazione.geom", "alias": "transformed_x_geom", "function": "GB_X"},
            {"name":"a_acq_captazione.geom", "alias": "transformed_y_geom", "function": "GB_Y"},
            {"name":"pozzi_inpotab.ids_codice", "alias": "cod_opera_inpotab_not_exist", "function": "IS_NULL"},
            {"name":"stats_pompe.sum_potenza", "alias": "sum_potenza"},
            {"name":"stats_pompe.avg_idx_potenza", "alias": "avg_idx_potenza"},
            { "name": "localita.denominazi", "alias": "denominazi" },
            { "name": "acq_auth_capt.consumo_ee", "alias": "consumo_ee"},
            {"name": "acq_auth_capt.sn_tut_ass","alias": "sn_tut_ass"},
            {"name": "acq_auth_capt.sn_rispetto","alias": "sn_rispetto"},
            {"name": "acq_auth_capt.sn_protezione","alias": "sn_protezione"},
            {"name": "support_codice_capt_accorp.codice_accorp","alias": "codice_accorp"},
            {"name": "support_codice_capt_accorp.denominazione","alias": "accorp_denominazione"}
         ],
         "table":{
            "name":"a_acq_captazione"
         },
         "join":[
            {
               "type":"left",
               "table":{
                  "name":"acq_capt_conces"
               },
               "on":[
                  "a_acq_capt_concess.id_captazione",
                  "a_acq_captazione.idgis"
               ],
               "cond":"="
            },
            {
               "type":"left",
               "table":{
                  "name":"acq_auth_capt"
               },
               "on":[
                  "acq_auth_capt.id_captazione",
                  "a_acq_captazione.idgis"
               ],
               "cond":"="
            },
            {
               "type":"left",
               "table":{
                  "name":"pozzi_inpotab"
               },
               "on":[
                  "pozzi_inpotab.ids_codice",
                  "a_acq_captazione.codice_ato"
               ],
               "cond":"="
            },
            {
               "type":"left",
               "table":{
                  "name":"stats_pompe"
               },
               "on":[
                  "stats_pompe.codice_ato",
                  "a_acq_captazione.codice_ato"
               ],
               "cond":"="
            },
            {
                 "type": "left",
                 "table": {
                     "name": "localita"
                 },
                 "on": [
                     "localita.geom",
                     "a_acq_captazione.geom"
                 ],
                 "cond": "ST_INTERSECTS"
            },
            {
                 "type": "left",
                 "table": {
                     "name": "support_codice_capt_accorp"
                 },
                 "on": [
                     "support_codice_capt_accorp.idgis",
                     "a_acq_captazione.idgis"
                 ],
                 "cond": "="
            }
         ],
         "filter": "WHERE a_acq_captazione.d_gestore = 'PUBLIACQUA' AND a_acq_captazione.d_ambito IN ('AT3', NULL) AND a_acq_captazione.sub_funzione = 3"
      }
   ],
   "columns":[
      {"id":"17200", "transformation":{"func":"EXPR", "params":{"field":"volume_medio_prel", "expr": "_value_*1000/365/3600/24"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "17200",
                  "cond": [{
                      "and": [
                        {"lookup": "{15600}","operator": "<=", "value": "{17200}"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field not lower than ID 15600"
          }
      ]},

      {"id":"14700", "transformation":{"func":"DIRECT", "params":{"field":"codice_ato"}}},
      {"id":"16900", "transformation":{"func":"DIRECT", "params":{"field":"consumo_ee"}}},
      {"id":"15300", "transformation":{"func":"DIRECT", "params":{"field":"denominazi"}}},
      {"id":"14800", "transformation":{"func":"DIRECT", "params":{"field":"denom"}}},
      {"id":"15200", "transformation":{"func":"DIRECT", "params":{"field":"quota"}}, "validations": [{
                    "func": "IF",
                    "params": {
                        "field": "15200",
                        "cond": [{
                            "and": [
                              {"operator": "!=", "value": 0}
                            ]
                        }]
                    },
                    "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: value is not 0"
                }
            ]},
      {"id":"15500", "transformation":{"func":"DIRECT", "params":{"field":"estremi_conces"}}},
      {"id":"15600", "transformation":{"func":"DIRECT", "params":{"field":"port_potab"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "15600",
                  "cond": [{
                      "and": [
                        {"operator": ">=", "value": "{17200}"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is lower than the value in field 17200"
          }
      ]},
      {"id":"15700", "transformation":{"func":"DIRECT", "params":{"field":"port_industr"}}},
      {"id":"15800", "transformation":{"func":"DIRECT", "params":{"field":"port_irrig"}}},
      {"id":"15900", "transformation":{"func":"DIRECT", "params":{"field":"port_idroel"}}},
      {"id":"16000", "transformation":{"func":"DIRECT", "params":{"field":"port_altro"}}},
      {"id":"16100", "transformation":{"func":"DIRECT", "params":{"field":"anno_costr"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "16100",
                  "cond": [{
                      "or": [
                        {"operator": "<=", "value": "{REF_YEAR}"},
                        {"operator": "=", "value": 9999}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is not valid for year {REF_YEAR}"
          }
      ]},
      {"id":"16200", "transformation":{"func":"DIRECT", "params":{"field":"anno_ristr"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "16200",
                  "cond": [{
                      "or": [
                        {"operator": "<=", "value": "{REF_YEAR}"},
                        {"operator": "=", "value": 9800}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is not valid for year {REF_YEAR}"
          }
      ]},
      {"id":"16500", "transformation":{"func":"DIRECT", "params":{"field":"utilizzo_annuo"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "16500",
                  "cond": [{
                      "and": [
                        {"lookup": "{17000}","operator": "=", "value": 0},
                        {"operator": "=", "value": 0}
                      ]
                  },{
                      "or": [
                        {"lookup": "{17000}","operator": ">", "value": 0},
                        {"operator": "<", "value": 100}
                      ]
                  },{
                      "or": [
                        {"lookup": "{16400}","operator": "=", "value": "Continuo"},
                        {"operator": "=", "value": 100}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is lower than 3"
          }
      ]},
      {"id":"16600", "transformation":{"func":"DIRECT", "params":{"field":"prof_pozzo"}}},
      {"id":"16700", "transformation":{"func":"DIRECT", "params":{"field":"diam_perf"}}},
      {"id":"17000", "transformation":{"func":"DIRECT", "params":{"field":"volume_medio_prel"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "17000",
                  "cond": [{
                      "and": [
                        {"lookup": "{18500}","operator": "=", "value": 1},
                        {"operator": ">", "value": 0}
                      ]
                  },{
                      "and": [
                        {"lookup": "{15600}","operator": "=", "value": 0},
                        {"operator": ">", "value": 0}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field is lower than 0"
          }
      ]},
      {"id":"17300", "transformation":{"func":"DIRECT", "params":{"field":"port_uti_max"}}},
      {"id":"17400", "transformation":{"func":"DIRECT", "params":{"field":"port_uti_min"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "17400",
                  "cond": [{
                      "and": [
                        {"lookup": "{17200}","operator": "=", "value": 0},
                        {"operator": "=", "value": 0}
                      ]
                  },{
                      "and": [
                        {"lookup": "{17200}","operator": ">", "value": 0},
                        {"lookup": "{17200}","operator": "<", "value": "{17400}"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Field not lower than ID 15600"
          }
      ]},
      {"id":"17600", "transformation":{"func":"DIRECT", "params":{"field":"sn_strum_mis_port"}}},
      {"id":"18200", "transformation":{"func":"DIRECT", "params":{"field":"anno_instal_clor"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "18200",
                  "cond": [{
                      "and": [
                        {"lookup": "{18100}","operator": "=", "value": 1},
                        {"operator": "=", "value": 9800}
                      ]
                  },{
                      "or": [
                        {"operator": "<=", "value": "{REF_YEAR}"},
                        {"operator": "=", "value": 9999}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value 1 is not permitted or {REF_YEAR}"
          }
      ]},
      {"id":"18300", "transformation":{"func":"DIRECT", "params":{"field":"anno_ristr_clor"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "18300",
                  "cond": [{
                      "and": [
                        {"lookup": "{18100}","operator": "=", "value": 1},
                        {"operator": "=", "value": 9800}
                      ]
                  },{
                      "or": [
                        {"operator": "<=", "value": "{REF_YEAR}"},
                        {"operator": "=", "value": 9800}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value 1 is not permitted or {REF_YEAR}"
          }
      ]},
      {"id":"18400", "transformation":{"func":"DIRECT", "params":{"field":"sn_epis_inq"}}},
      {"id":"19400", "transformation":{"func":"DIRECT", "params":{"field":"data_agg"}}},

      {"id":"14900", "transformation": { "func": "ROUND", "params": {"field": "transformed_y_geom", "ndigits":  3}}},
      {"id":"15000", "transformation": { "func": "ROUND", "params": {"field": "transformed_x_geom", "ndigits":  3}}},

      {"id":"16300", "transformation":{"func":"DOMAIN", "params":{"field":"d_stato_cons", "domain_name": "D_STATO_CONS"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "16300",
                  "cond": [{
                      "and": [
                        {"lookup": "{16200}","operator": ">=", "value": 2014},
                        {"operator": ">=", "value": 3}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is lower than 3"
          }
      ]},
      {"id":"16400", "transformation":{"func":"DOMAIN", "params":{"field":"d_utilizzo", "domain_name": "D_UTILIZZO_OPERA"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "16400",
                  "cond": [{
                      "and": [
                        {"lookup": "{16500}","operator": "=", "value": 100},
                        {"operator": "=", "value": "Continuo"}
                      ]
                  },{
                      "or": [
                        {"lookup": "{17000}","operator": "=", "value": 0},
                        {"lookup": "{18500}","operator": "=", "value": 1},
                        {"operator": "=", "value": "Occasionale"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is lower than 3"
          }
      ]},
      {"id":"17500", "transformation":{"func":"DOMAIN", "params":{"field":"d_telecont", "domain_name": "D_TELECONT"}}},
      {"id":"18100", "transformation":{"func":"DOMAIN", "params":{"field":"d_tipo_cloraz", "domain_name": "D_T_CLORAZ"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "18100",
                  "cond": [{
                      "and": [
                        {"lookup": "{18200}","operator": "!=", "value": 9800},
                        {"operator": "!=", "value": 1}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value 1 is not permitted"
          }
      ]},
      {"id":"18500", "transformation":{"func":"DOMAIN", "params":{"field":"d_stato", "domain_name": "D_STATO"}}},
      {"id":"18600", "transformation":{"func":"DOMAIN", "params":{"field":"a_anno_costr", "domain_name": "D_AFFIDABILITA"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "18600",
                  "cond": [{
                      "and": [
                        {"lookup": "{16100}", "operator": "=", "value": 9999},
                        {"operator": "=", "value": "X"}
                      ]
                  },{
                      "and": [
                        {"lookup": "{16100}", "operator": ">=", "value": 2002},
                        {"lookup": "{16100}", "operator": "!=", "value": 9999},
                        {"operator": "=", "value": "A"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is not A or X"
          }
      ]},
      {"id":"18700", "transformation":{"func":"DOMAIN", "params":{"field":"a_anno_ristr", "domain_name": "D_AFFIDABILITA"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "18700",
                  "cond": [{
                      "and": [
                        {"lookup":"{16200}","operator": ">=", "value": 2002},
                        {"operator": "=", "value": "A"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is not A"
          }
      ]},
      {"id":"18900", "transformation":{"func":"DOMAIN", "params":{"field":"a_volume", "domain_name": "D_AFFIDABILITA"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "18900",
                  "cond": [{
                      "and": [
                        {"lookup":"{17000}","operator": "=", "value": 0},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup":"{17000}","operator": ">", "value": 0},
                        {"lookup":"{17600}","operator": "=", "value": 1},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup":"{17600}","operator": "=", "value": 0},
                        {"operator": "=", "value": "C"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is not A or C"
          }
      ]},
      {"id":"19100", "transformation":{"func":"DOMAIN", "params":{"field":"a_port_es", "domain_name": "D_AFFIDABILITA"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "19100",
                  "cond": [{
                      "and": [
                        {"lookup":"{18900}","operator": "=", "value": "{19100}"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is not A or C"
          }
      ]},
      {"id":"19200", "transformation":{"func":"DOMAIN", "params":{"field":"a_port_uti_max", "domain_name": "D_AFFIDABILITA"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "19200",
                  "cond": [{
                      "and": [
                        {"lookup":"{17300}","operator": "=", "value": 0},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup":"{17300}","operator": ">", "value": 0},
                        {"lookup":"{17600}","operator": "=", "value": 1},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup":"{17300}","operator": ">", "value": 0},
                        {"lookup":"{17600}","operator": "=", "value": 1},
                        {"operator": "=", "value": "C"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is not A or C"
          }
      ]},
      {"id":"19300", "transformation":{"func":"DOMAIN", "params":{"field":"a_port_uti_min", "domain_name": "D_AFFIDABILITA"}}, "validations": [{
              "func": "IF",
              "params": {
                  "field": "19300",
                  "cond": [{
                      "and": [
                        {"lookup":"{17400}","operator": "=", "value": 0},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup":"{17400}","operator": ">", "value": 0},
                        {"lookup":"{17600}","operator": "=", "value": 1},
                        {"operator": "=", "value": "A"}
                      ]
                  },{
                      "and": [
                        {"lookup":"{17400}","operator": ">", "value": 0},
                        {"lookup":"{17600}","operator": "=", "value": 1},
                        {"operator": "=", "value": "C"}
                      ]
                  }]
              },
              "warning": "Foglio: {SHEET}, Riga:{ROW}, Codice_ato: {CODICE_ATO}, Campo: {FIELD}: Value is not A or C"
          }
      ]},

      {"id":"15100", "transformation":{"func":"CONST", "params":{"value":"3003"}}},

      {"id": "17800","transformation": { "func": "DOMAIN", "params": { "field": "sn_tut_ass", "domain_name":  "D_AFFIDABILITA"}}},
      {"id": "17900","transformation": { "func": "DOMAIN", "params": { "field": "sn_rispetto", "domain_name":  "D_AFFIDABILITA"}}},
      {"id": "18000","transformation": { "func": "DOMAIN", "params": { "field": "sn_protezione", "domain_name":  "D_AFFIDABILITA"}}},

      {"id":"16800", "transformation":{"func":"DIRECT", "params":{"field":"sum_potenza"}}},

      {"id":"18800", "transformation":{
         "func": "IF",
         "params": {
             "field": "avg_idx_potenza",
             "cond": {
                     "operator": "=",
                     "value": null,
                     "result": "X",
                     "else": "{ avg_idx_potenza }"
                 }
             }
         }
      },
    {"id":"19000", "transformation":{
         "func": "IF",
         "params": {
             "field": "cod_opera_inpotab_not_exist",
             "cond": {
                     "operator": "=",
                     "value": 0,
                     "result": "A",
                     "else": "{ a_volume }"
                 }
             }
         }
      },
      {"id":"15400", "transformation":{"func":"LSTRIP", "params":{"field":"cod_comune", "char": "0"}}},
      {"id":"15400", "transformation": {"func":"DECODE_COM", "params": { "field": "cod_comune" }}},
      {"id":"17100", "transformation":{
         "func": "IF",
         "params": {
             "field": "cod_opera_inpotab_not_exist",
             "cond": {
                     "operator": "=",
                     "value": 1,
                     "result": "{ volume_medio_prel }",
                     "else": 0
                 }
             }
         }
      }
   ]
}